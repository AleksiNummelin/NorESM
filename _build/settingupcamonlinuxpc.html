

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Setting up CAM on your own linux PC &mdash; norESM  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Model Diagnostic Tools" href="modeldiagnostics.html" />
    <link rel="prev" title="Atmospheric output for some commonly used configurations of NorESM2" href="runmodel/noresm2_output.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> norESM
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Content:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="start.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="runmodel/newbie.html">Newbies guide to running NorESM</a></li>
<li class="toctree-l1"><a class="reference internal" href="runmodel/advanced.html">Advanced configuration (NorESM1)</a></li>
<li class="toctree-l1"><a class="reference internal" href="runmodel/advancednoresm2.html">Advanced configuration of NorESM2</a></li>
<li class="toctree-l1"><a class="reference internal" href="runmodel/fluxescrossingboundaries.html">Fluxes crossing boundaries</a></li>
<li class="toctree-l1"><a class="reference internal" href="runmodel/cmip6_volcanic_forcing.html">CMIP6 volcanic forcing</a></li>
<li class="toctree-l1"><a class="reference internal" href="runmodel/cmip6emissionsofshortlivedcomponents.html">CMIP6 emissions of short-lived components</a></li>
<li class="toctree-l1"><a class="reference internal" href="runmodel/noresm2_output.html">Atmospheric output for some commonly used configurations of NorESM2</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Setting up CAM on your own linux PC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#obtain-cam-5-3-source-code">Obtain CAM 5.3 source code</a></li>
<li class="toctree-l2"><a class="reference internal" href="#compile-the-netcdf-libraries-using-gfortran">Compile the netcdf libraries using gfortran</a></li>
<li class="toctree-l2"><a class="reference internal" href="#compile-cam-on-your-linux-pc">Compile CAM on your Linux PC</a></li>
<li class="toctree-l2"><a class="reference internal" href="#including-cam-oslo-code">Including cam-oslo code</a></li>
<li class="toctree-l2"><a class="reference internal" href="#debug-the-model-using-ddd-or-gdb">Debug the model using ddd or gdb</a></li>
<li class="toctree-l2"><a class="reference internal" href="#view-results">View results</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configure-your-case">Configure your case</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modeldiagnostics.html">Model Diagnostic Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="usingtheissuetracker.html">Using the issue tracker</a></li>
<li class="toctree-l1"><a class="reference internal" href="testlist.html">Test list for NorESM</a></li>
<li class="toctree-l1"><a class="reference internal" href="gitbestpractice.html">Obtain a copy of the model (using git)</a></li>
<li class="toctree-l1"><a class="reference internal" href="gitbestpractice.html#verify-that-you-have-the-correct-checkout">Verify that you have the correct checkout</a></li>
<li class="toctree-l1"><a class="reference internal" href="gitbestpractice.html#modify-files">Modify files</a></li>
<li class="toctree-l1"><a class="reference internal" href="gitbestpractice.html#get-modifications-from-github">Get modifications from github</a></li>
<li class="toctree-l1"><a class="reference internal" href="gitbestpractice.html#send-modifications-to-github">Send modifications to github</a></li>
<li class="toctree-l1"><a class="reference internal" href="gitbestpractice.html#if-you-don-t-understand-and-want-to-get-back-to-svn">If you don’t understand and want to get back to svn</a></li>
<li class="toctree-l1"><a class="reference internal" href="svnbestpractice.html">What is a branch?</a></li>
<li class="toctree-l1"><a class="reference internal" href="svnbestpractice.html#when-should-i-work-on-a-branch">When should I work on a branch?</a></li>
<li class="toctree-l1"><a class="reference internal" href="svnbestpractice.html#how-should-i-name-the-branch">How should I name the branch?</a></li>
<li class="toctree-l1"><a class="reference internal" href="svnbestpractice.html#a-note-on-branch-tag-naming">A note on branch / tag naming</a></li>
<li class="toctree-l1"><a class="reference internal" href="svnbestpractice.html#how-and-when-should-i-merge-from-trunk-to-my-branch">How and when should I merge from trunk to my branch?</a></li>
<li class="toctree-l1"><a class="reference internal" href="svnbestpractice.html#how-can-i-merge-my-branch-back-into-the-trunk">How can I merge my branch back into the trunk?</a></li>
<li class="toctree-l1"><a class="reference internal" href="svnbestpractice.html#what-is-a-tag">What is a tag?</a></li>
<li class="toctree-l1"><a class="reference internal" href="svnbestpractice.html#when-should-i-create-a-tag">When should I create a tag?</a></li>
<li class="toctree-l1"><a class="reference internal" href="svnbestpractice.html#what-tags-exist">What tags exist?</a></li>
<li class="toctree-l1"><a class="reference internal" href="svnbestpractice.html#how-should-i-name-the-tag">How should I name the tag?</a></li>
<li class="toctree-l1"><a class="reference internal" href="svnbestpractice.html#tagging-noresm0-and-noresm1-branches">Tagging noresm0 and noresm1 branches?</a></li>
<li class="toctree-l1"><a class="reference internal" href="svnbestpractice.html#case-1">Case 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="svnbestpractice.html#case-2">Case 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="svnbestpractice.html#case-3">Case 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="svnbestpractice.html#what-should-be-stated-in-the-commit-message">What should be stated in the commit message?</a></li>
<li class="toctree-l1"><a class="reference internal" href="svnbestpractice.html#what-should-be-stated-in-the-copy-message-of-a-branch">What should be stated in the copy message of a branch?</a></li>
<li class="toctree-l1"><a class="reference internal" href="svnbestpractice.html#what-should-be-stated-in-the-copy-message-of-a-tag">What should be stated in the copy message of a tag?</a></li>
<li class="toctree-l1"><a class="reference internal" href="svnnorstorehowto.html">Subversion how-to for NorStore</a></li>
<li class="toctree-l1"><a class="reference internal" href="uncertainaerosolparameters.html">Uncertain parameters (which can be discussed) in the aerosol model</a></li>
<li class="toctree-l1"><a class="reference internal" href="modeldiagnostics.html">Model Diagnostic Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="norstoretape.html">NorStore Tape Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="norstorearchive.html">NorStore Research Data Archive: Guidelines for ingestion of NorESM output</a></li>
<li class="toctree-l1"><a class="reference internal" href="projects.html">Existing projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">norESM</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Setting up CAM on your own linux PC</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/settingupcamonlinuxpc.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="setting-up-cam-on-your-own-linux-pc">
<span id="settingupcamonlinuxpc"></span><h1>Setting up CAM on your own linux PC<a class="headerlink" href="#setting-up-cam-on-your-own-linux-pc" title="Permalink to this headline">¶</a></h1>
<p>CAM is the atmospheric component of NoRESM. It is possible to compile
and run CAM on your own Linux PC. This makes it easier to debug simple
tests using programs like ddd or gdb. CAM 5.3 compiles with gfortran.</p>
<div class="section" id="obtain-cam-5-3-source-code">
<h2>Obtain CAM 5.3 source code<a class="headerlink" href="#obtain-cam-5-3-source-code" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">svn</span> <span class="n">checkout</span>
<span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">svn</span><span class="o">-</span><span class="n">ccsm</span><span class="o">-</span><span class="n">release</span><span class="o">.</span><span class="n">cgd</span><span class="o">.</span><span class="n">ucar</span><span class="o">.</span><span class="n">edu</span><span class="o">/</span><span class="n">model_versions</span><span class="o">/</span><span class="n">cesm1_2_0</span>
</pre></div>
</div>
<p>You will be asked for a user name and password. You can easily get that
from NCAR through
<a class="reference external" href="http://www.cesm.ucar.edu/models/cesm1.0/register/register_cesm1.0.cgi">http://www.cesm.ucar.edu/models/cesm1.0/register/register_cesm1.0.cgi</a></p>
<p>(the first time it will use your unix user name.. Just type the wrong
password, and then it will prompt you for another user name, then use
the one provided by NCAR).</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>To use the development version of CAM5-Oslo, check out NorESM (not</dt>
<dd>CESM) from the noresm repository**</dd>
</dl>
</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">svn</span> <span class="n">checkout</span>
<span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">svn</span><span class="o">.</span><span class="n">met</span><span class="o">.</span><span class="n">no</span><span class="o">/</span><span class="n">NorESM</span><span class="o">/</span><span class="n">noresm</span><span class="o">/</span><span class="n">branches</span><span class="o">/</span><span class="n">featureCAM5</span><span class="o">-</span><span class="n">OsloDevelopment_trunk2</span><span class="o">.</span><span class="mi">0</span><span class="o">-</span><span class="mi">4</span>
<span class="n">myCamOsloDev</span>
</pre></div>
</div>
</div>
<div class="section" id="compile-the-netcdf-libraries-using-gfortran">
<h2>Compile the netcdf libraries using gfortran<a class="headerlink" href="#compile-the-netcdf-libraries-using-gfortran" title="Permalink to this headline">¶</a></h2>
<p>1) INSTALL NETCDF (4.2): Follow instructions on
<a class="reference external" href="http://www.unidata.ucar.edu/software/netcdf/docs/netcdf-install/Quick-Instructions.html#Quick-Instructions">http://www.unidata.ucar.edu/software/netcdf/docs/netcdf-install/Quick-Instructions.html#Quick-Instructions</a></p>
<p>I created library directories on /home/alfg/LIBS/.</p>
<p>For example /home/alfg/LIBS/netcdf-4.2.gfortran. These directories are
use as “prefix=” in the installation guide..</p>
<p>When installing:</p>
<ul class="simple">
<li>Use instructions on how to build with hdf5</li>
<li>Use the instructions about shared libraries. (There are also
instructions about static libraries)</li>
<li>Remember to set the LD_LIBRARY_PATH variable as described. Otherwise
it does not work.</li>
</ul>
<p>==&gt; Some exceptions</p>
<p>(Build order is wrong)
<a class="reference external" href="http://mail.lists.hdfgroup.org/pipermail/hdf-forum_lists.hdfgroup.org/2013-May/006818.html">http://mail.lists.hdfgroup.org/pipermail/hdf-forum_lists.hdfgroup.org/2013-May/006818.html</a></p>
<p>(Have to do separately)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span>
<span class="n">make</span> <span class="n">check</span>
<span class="n">make</span> <span class="n">install</span>
</pre></div>
</div>
<p>Add the following to your .bashrc file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">FC</span><span class="o">=</span><span class="n">gfortran</span>
<span class="n">export</span> <span class="n">CC</span><span class="o">=</span><span class="n">gcc</span>
<span class="n">export</span> <span class="n">CFLAGS</span><span class="o">=-</span><span class="n">O0</span>
<span class="n">export</span> <span class="n">CXX</span><span class="o">=</span><span class="n">g</span><span class="o">++</span>
<span class="n">export</span> <span class="n">CXXFLAGS</span><span class="o">=-</span><span class="n">O0</span>
</pre></div>
</div>
<p>The netcdf c-library complains about a non-successful compilation
because it can not find Doxyfile. This is not important. The compilation
needs also the following env-variables: CPPFLAGS=-I${dir}/include,
LDFLAGS=-L${dir}/lib, where “dir” is directory you use for the
“configure” scripts</p>
<p>3) Get the netcdf source code (including the c-headers) from
<a class="reference external" href="http://www.unidata.ucar.edu/software/netcdf/docs/getting.html">http://www.unidata.ucar.edu/software/netcdf/docs/getting.html</a> a) make b)
make check c) make install</p>
<p>4) Get fortran netcdf api
(<a class="reference external" href="http://www.unidata.ucar.edu/downloads/netcdf/index.jsp">http://www.unidata.ucar.edu/downloads/netcdf/index.jsp</a>) and follow
<a class="reference external" href="http://www.unidata.ucar.edu/software/netcdf/docs/netcdf-fortran-install.html">http://www.unidata.ucar.edu/software/netcdf/docs/netcdf-fortran-install.html</a></p>
</div>
<div class="section" id="compile-cam-on-your-linux-pc">
<h2>Compile CAM on your Linux PC<a class="headerlink" href="#compile-cam-on-your-linux-pc" title="Permalink to this headline">¶</a></h2>
<p>When you have succesfully obtained netCDF libraries, you need to set
some environent variables in order to tell CAM where to find these
libraries, add the following to your .bashrc file (but change the path
to the correct path). Make sure you have the netcdf.mod-file in
“MOD_NETCF”. These environment variables are used by the CAM “configure”
script!</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>export INC_NETCDF=/home/alfg/LIBS/netcdf-4.2.gfortran/include export
LIB_NETCDF=/home/alfg/LIBS/netcdf-4.2.gfortran/lib export
MOD_NETCDF=/home/alfg/LIBS/netcdf-4.2.gfortran/include export
LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$LIB_NETCDF
</pre></div>
</div>
<p>The steps for building and installing CAM are well described at
<a class="reference external" href="http://www.cesm.ucar.edu/models/cesm1.0/cam/docs/ug5_1/ug.html">http://www.cesm.ucar.edu/models/cesm1.0/cam/docs/ug5_1/ug.html</a></p>
<p>You need the following settings in your .bashrc file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">camcfg</span><span class="o">=/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">CESM_1_2_0</span><span class="o">/</span><span class="n">cesm1_2_0</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">atm</span><span class="o">/</span><span class="n">cam</span><span class="o">/</span><span class="n">bld</span>
<span class="n">export</span> <span class="n">CSMDATA</span><span class="o">=/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">cam</span><span class="o">/</span><span class="nb">input</span><span class="o">/</span><span class="n">data</span>
</pre></div>
</div>
<p>This command configures CAM (not including any CAM-Oslo code) on my
machine. It creates a Makefile used later for compilation.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$camcfg/configure -dyn fv -debug -hgrid 10x15 -fc gfortran -nospmd
-nosmp -test -fc_type gnu
</pre></div>
</div>
<ul class="simple">
<li><dl class="first docutils">
<dt>As long as $camcfg is defined, you can execute this from any</dt>
<dd>directory..**</dd>
</dl>
</li>
</ul>
<p>Then you need the following commands **executed from the same directory
as you executed “configure”<a href="#id1"><span class="problematic" id="id2">*</span></a>* $camcfg/build-namelist -test -config
config_cache.xml</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span>
</pre></div>
</div>
<p>The input data have been collected and put at norstore:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">NS2345K</span><span class="o">/</span><span class="n">noresm</span><span class="o">/</span><span class="n">CAM5</span><span class="o">.</span><span class="mi">3</span><span class="n">_PCLinux</span><span class="o">/</span><span class="n">CAM5</span><span class="o">.</span><span class="mi">3</span><span class="n">Input10x15</span><span class="o">/</span><span class="n">csm</span><span class="o">/</span><span class="n">inputdata</span>
</pre></div>
</div>
<p>You should copy these files to somewhere on your computer. The CSMDATA
environment variable should point to the “input-data” directory after
the copying. For example I copied it to /disk1/alfg/csm/, so my $CSMDATA
is <a class="reference external" href="mailto:alfg&#37;&#52;&#48;pc4400">alfg<span>&#64;</span>pc4400</a>:$ echo $CSMDATA /disk1/alfg/csm/inputdata</p>
<p>Finally run the model simply executing the command ./cam</p>
<p>NOTE: In CAM5.5 (upcoming versions) this same procedure is supposed to
work with the following command (NOT VERIFIED):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$camcfg/configure -fc
gfortran -fc_type gnu -debug -nospmd -nosmp -dyn fv -res 10x15 -ice sice
-phys cam5
</pre></div>
</div>
</div>
<div class="section" id="including-cam-oslo-code">
<h2>Including cam-oslo code<a class="headerlink" href="#including-cam-oslo-code" title="Permalink to this headline">¶</a></h2>
<p>This assumes you checked out NorESM (and CESM) with subversion</p>
<p>Works with latest version of oslo aerosol development branch</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$camcfg/configure -dyn fv -debug -hgrid 10x15 -fc gfortran -nospmd -nosmp -test -fc_type gnu -chem trop_mam_oslo ``
</pre></div>
</div>
<p>There are additional input needed for the CAM-Oslo code. They are
available in the same input-directory as the normal CESM-input files. As
long as the whole input directory is copied and the
CSMDATA-environmen-variable is set, you don’t have to do anything. The
input-directory at norstore is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">NS2345K</span><span class="o">/</span><span class="n">noresm</span><span class="o">/</span><span class="n">CAM5</span><span class="o">.</span><span class="mi">3</span><span class="n">_PCLinux</span><span class="o">/</span><span class="n">CAM5</span><span class="o">.</span><span class="mi">3</span><span class="n">Input10x15</span><span class="o">/</span><span class="n">csm</span><span class="o">/</span><span class="n">inputdata</span>
</pre></div>
</div>
</div>
<div class="section" id="debug-the-model-using-ddd-or-gdb">
<h2>Debug the model using ddd or gdb<a class="headerlink" href="#debug-the-model-using-ddd-or-gdb" title="Permalink to this headline">¶</a></h2>
<p>Some first test show that the following information is useful:</p>
<p>gdb hangs forever on backtrace commmand sometimes. Adding //set print
frame-arguments none// to your ~/.gdbinit file solves that problem on
the expense of less information on “bt” command.</p>
<p>ddd sometimes hangs forever on startup. If that happens you need to
remove the ~/.ddd/init file</p>
<p>gdb has problems with printing info about allocatable arrays.
Allocatable arrays have to be displayed as “<a href="#id3"><span class="problematic" id="id4">*</span></a>((real_8 *)my_array +
N)&#64;M” where N is number of elements beyond first element and M is number
of elements to show. (See bottom of this page (and links therein)
<a class="reference external" href="http://stackoverflow.com/questions/11786958/how-to-print-fortran-arrays-in-gdb">http://stackoverflow.com/questions/11786958/how-to-print-fortran-arrays-in-gdb</a>)</p>
<p>It is sometimes useful to let the compiler tell you about additional
errors. Assuming you use gfortran on your PC: See
<a class="reference external" href="https://gcc.gnu.org/onlinedocs/gfortran/Code-Gen-Options.html">https://gcc.gnu.org/onlinedocs/gfortran/Code-Gen-Options.html</a> for
additional options. For example if you want to check just about
everything, add “-fcheck=all” to the “FC_FLAGS” in the gfortran section.
(Note: Running configure again re-generates the Makefile)</p>
</div>
<div class="section" id="view-results">
<h2>View results<a class="headerlink" href="#view-results" title="Permalink to this headline">¶</a></h2>
<p>ncview has trouble visualizing results which are of this coarse
resolution (10x15 degrees). Panoply is a better option. Download from
<a class="reference external" href="http://www.giss.nasa.gov/tools/panoply/download_gen.html">http://www.giss.nasa.gov/tools/panoply/download_gen.html</a></p>
<div class="line-block">
<div class="line">``&nbsp;-&nbsp;Unpack&nbsp;the&nbsp;files``</div>
<div class="line">``&nbsp;-&nbsp;Add&nbsp;the&nbsp;folder&nbsp;where&nbsp;you&nbsp;find&nbsp;panoply.sh&nbsp;to&nbsp;your&nbsp;path&nbsp;(in&nbsp;your&nbsp;.bashrc&nbsp;file,&nbsp;add:&nbsp;export&nbsp;PATH=$PATH:/path/to/panoply/dot/sh)``</div>
<div class="line">``&nbsp;-&nbsp;launch&nbsp;program&nbsp;with&nbsp;“panoply.sh&nbsp;netcdfFileName”&nbsp;from&nbsp;any&nbsp;folder``</div>
</div>
</div>
<div class="section" id="configure-your-case">
<h2>Configure your case<a class="headerlink" href="#configure-your-case" title="Permalink to this headline">¶</a></h2>
<p>If you want an other configuration than the standard configuration, you
must add a use-case. The use case is an xml-file which is added to the
/cesm1_2_0/models/atm/cam/bld/namelist_files/use_cases/ directory.</p>
<p>Below is an example of a use-case which writes some more frequent output
(every hour) to history files.</p>
<p>The file says that we have 5 different history files. The first one is
the monthly output with max one time step. The other files are output
every hour (-1) with max number of samples 30 in each file.</p>
<p>For each of the different files (1-5) we have specified the fields we
want to output. For example in the second, we output QREFHT, TREFHTMN
etc..</p>
<p>Fields which end in “:I” are instantaneous values as opposed to time
averages.</p>
<p>Save the xml-file to the use_cases directory as “my_case.xml” and run
the command</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$camcfg/build-namelist -test -config config_cache.xml -use_case my_case

 &lt;?xml version=&quot;1.0&quot;?&gt;

 1,30,30,30,30

 0,-1,-1,-1,-1

 &#39;QREFHT&#39;,&#39;TREFHTMN&#39;,&#39;TREFHTMX&#39;,&#39;TREFHT&#39;,&#39;PRECT&#39;,&#39;PRECC&#39;,&#39;PRECSC&#39;,&#39;PRECSL&#39;,&#39;PSL&#39;,&#39;T&#39;,&#39;Z3&#39;,&#39;U&#39;,&#39;V&#39;,&#39;PS&#39;,&#39;TS&#39;,&#39;SST&#39;,&#39;PHIS&#39;,&#39;CLDTOT&#39;
 &#39;U850:I&#39;,&#39;V850:I&#39;,&#39;T850:I&#39;,&#39;Q850:I&#39;,&#39;OMEGA850:I&#39;,&#39;U:I&#39;,&#39;V:I&#39;,&#39;T:I&#39;,&#39;PS:I&#39;,&#39;PSL:I&#39;,&#39;Q:I&#39;,&#39;PHIS:I&#39;
 &#39;PRECT&#39;,&#39;LHFLX&#39;,&#39;SHFLX&#39;,&#39;FLDS&#39;,&#39;FLNS&#39;,&#39;FSNS&#39;,&#39;PRECC&#39;,&#39;PRECSC&#39;,&#39;PRECSL&#39;
 &#39;TREFHT:I&#39;,&#39;QREFHT:I&#39;,&#39;TS:I&#39;,&#39;SST:I&#39;,&#39;PS:I&#39;
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="modeldiagnostics.html" class="btn btn-neutral float-right" title="Model Diagnostic Tools" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="runmodel/noresm2_output.html" class="btn btn-neutral" title="Atmospheric output for some commonly used configurations of NorESM2" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Anne Fouilloux

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>